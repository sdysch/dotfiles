#!/bin/sh
# automatically backup vimwiki

[ -d $VIMWIKI ] || exit 1

# add files, commit, push
pushd $VIMWIKI
git add -A > /dev/null
timestamp=$(date)
message="Vim wiki automatically backed up at ${timestamp}"
git commit -m "$message" > /dev/null
git push origin master > /dev/null
notify-send "$message"

# go back to previous directory
popd
