#!/bin/bash

maxlen=40
status=$(mpc status)
song=$(mpc current)

if [[ -z $song ]]; then
    echo " No music"
    exit 0
fi

# truncate if too long
if [ ${#song} -gt $maxlen ]; then
    song="${song:0:$maxlen}…"
fi

if echo "$status" | grep -q '\[playing\]'; then
    icon=""   # play
elif echo "$status" | grep -q '\[paused\]'; then
    icon=""   # pause
else
    icon=""   # stop
fi

echo "$icon $song"

